/* ==========================================================================
   Estilos Base (Mobile-First)
   ========================================================================== */
body { 
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; 
    background-color: #f0f2f5; 
    color: #1c1e21;
    transition: background-color 0.3s, color 0.3s;
    margin: 0;
    padding: 1rem;
}

.container { 
    background: #fff; 
    padding: 1.5rem; 
    border-radius: 8px; 
    box-shadow: 0 2px 10px rgba(0,0,0,0.1); 
    max-width: 900px; 
    margin: auto;
    transition: background-color 0.3s, box-shadow 0.3s;
}

h1 { 
    color: #1c1e21;
    font-size: 1.4rem;
    text-align: center;
}
h1.success { color: #198754; }
h1.error { color: #dc3545; }

p, .color-label, .result-key { color: #606770; }

.theme-toggle {
    position: fixed; top: 10px; right: 10px; background: #fff; border: 1px solid #ddd;
    border-radius: 50%; width: 40px; height: 40px; cursor: pointer; display: flex;
    justify-content: center; align-items: center; font-size: 1.2rem;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1); z-index: 1000;
}

.grid-container {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.5rem;
}

/* --- A REGRA FUNDAMENTAL PARA CORRIGIR O VAZAMENTO --- */
/* Esta regra diz aos filhos diretos do grid para não se expandirem com base no conteúdo */
.grid-container > div {
    min-width: 0;
}
/* ----------------------------------------------------------- */

.properties-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.5rem;
}

.result-item { margin-bottom: 1.2rem; }
.result-value { position: relative; overflow-wrap: break-word; }
#molecule-drawing { border: 1px solid #ddd; border-radius: 8px; padding: 0.5rem; display: flex; justify-content: center; align-items: center; }
#mol-3d-viewer { width: 100%; height: 300px; border: 1px solid #ddd; border-radius: 8px; position: relative; }
#console { background-color: #212529; color: #00ff41; font-family: monospace; padding: 1rem; border-radius: 5px; height: 150px; overflow-y: auto; white-space: pre-wrap; border: 1px solid #495057; }
.style-controls, .color-controls { flex-wrap: wrap; }

#drop-zone { border: 3px dashed #ccd0d5; border-radius: 12px; padding: 2.5rem; background-color: #ffffff; transition: background-color 0.2s, border-color 0.2s; cursor: pointer; display: flex; flex-direction: column; align-items: center; justify-content: center; }
.upload-icon { font-size: 3rem; }
.upload-text { font-size: 1.0rem; font-weight: 600; text-align: center; }
.upload-text-small { }
input[type="file"] { display: none; }
.button-browse { background-color: #e7f3ff; color: #1877f2; border: none; border-radius: 6px; padding: 10px 20px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: background-color 0.2s; }
.button-browse:hover { background-color: #dceafc; }
#loading-indicator { display: none; margin-top: 1.5rem; font-weight: 600; color: #1877f2; }
.copy-btn { position: absolute; top: 50%; transform: translateY(-50%); right: 0.5rem; cursor: pointer; background: none; border: none; color: #5a6268; opacity: 0.6; transition: opacity 0.2s, color 0.2s; }
.copy-btn:hover { opacity: 1; color: #212529; }
.style-controls, .download-container, .actions-container, .color-controls { display: flex; gap: 0.5rem; justify-content: center; margin-top: 0.75rem; align-items: center; }
.style-btn, .button { border: none; padding: 5px 10px; font-size: 0.8rem; border-radius: 5px; cursor: pointer; }
.button { padding: 10px 18px; font-size: 0.95rem; font-weight: 600; background-color: #1877f2; color: white; text-decoration: none; }
.button:hover { background-color: #166fe5; }
.button-secondary { background-color: #e4e6eb; color: #1c1e21; }
#bg-color-select { padding: 6px; border-radius: 5px; border: 1px solid #ccd0d5; font-size: 0.9rem; }
.info-message, .alert-warning { font-size: 0.8rem; padding: 1rem; margin-bottom: 1.0rem; border: 1px solid #ffeeba; border-radius: .25rem; color: #856404; background-color: #fff3cd; }
.error-container { text-align: center; }
.error-box { color: #dc3545; background-color: #f8d7da; border: 1px solid #f5c2c7; padding: 1rem; border-radius: 5px; margin-top: 1rem; }

/* Garante que o SVG nunca extrapole seu container */
#molecule-drawing svg {
    max-width: 100%;
    height: auto;
    display: block; /* Remove espaços extras que alguns navegadores adicionam */
}

/* ==========================================================================
   Modo Escuro
   ========================================================================== */
html.dark-mode body { background-color: #18191a; color: #e4e6eb; }
html.dark-mode .container { background: #242526; box-shadow: 0 2px 10px rgba(0,0,0,0.5); border: 1px solid #3a3b3c; }
html.dark-mode h1 { color: #e4e6eb; }
html.dark-mode p, html.dark-mode .color-label, html.dark-mode .result-key { color: #b0b3b8; }
html.dark-mode .theme-toggle { background: #3a3b3c; border-color: #404040; color: #e4e6eb; }
html.dark-mode #drop-zone { background-color: #3a3b3c; border-color: #555; gap: 0.5rem;}
html.dark-mode #drop-zone.drag-over { background-color: #404040; border-color: #0d6efd; }
html.dark-mode .button-secondary, html.dark-mode .style-btn { background-color: #3a3b3c; color: #e4e6eb; border-color: #555; }
html.dark-mode .button-secondary:hover, html.dark-mode .style-btn:hover { background-color: #4e4f50; }
html.dark-mode .result-value { background-color: #3a3b3c; }
html.dark-mode #molecule-drawing, html.dark-mode #mol-3d-viewer { background-color: #242526; border-color: #3a3b3c; }
html.dark-mode .info-message, html.dark-mode .alert-warning { background-color: #3a3b3c; border-color: #d39e00; color: #ffecb3; }
html.dark-mode #inchikey-link { color: #a6c5f7; }
html.dark-mode #inchikey-link:hover { color: #dceafc; }
html.dark-mode #bg-color-select { background-color: #4e4f50; color: #e4e6eb; border-color: #555; }
html.dark-mode .upload-icon { color: #b0b3b8; }
html.dark-mode .upload-text { color: #e4e6eb; }
html.dark-mode .copy-btn { color: #b0b3b8; opacity: 0.7; }
html.dark-mode .copy-btn:hover { color: #ffffff; }

/* ==========================================================================
   Estilos para Telas Maiores
   ========================================================================== */
@media (min-width: 768px) {
    body { padding: 2rem; }
    .container { padding: 2.5rem; }
    .grid-container { grid-template-columns: 1fr 1fr; gap: 2.5rem; }
    .properties-grid { grid-template-columns: 1fr 1fr; }
    h1 { font-size: 2rem; }
}

/* ==========================================================================
   Ajuste Fino para Telas Muito Pequenas
   ========================================================================== */
@media (max-width: 360px) {
    body { padding: 0.5rem; }
    .container { padding: 0.8rem; }
    #drop-zone { padding: 0.4rem; }
    h1 { font-size: 1.4rem; }
    .grid-container { gap: 1rem; }
    .style-controls { gap: 0.3rem; }
    .style-btn { padding: 4px 8px; font-size: 0.75rem; }
}

/* Esconde o botão "Tirar Foto" em telas maiores (desktops e tablets) */
@media (min-width: 601px) {
    #camera-btn {
        display: none;
    }
}

/* Estilos específicos para telas menores (celulares) */
@media (max-width: 600px) {
    .button-container {
        display: flex;
        flex-direction: column; /* Coloca os botões um embaixo do outro */
        align-items: center; /* Centraliza os botões */
        gap: 0.5rem; /* Reduz o espaço entre os botões */
    }
    
    .button-browse, .button-browse#camera-btn {
        padding: 0.4rem 0.9rem; /* Reduz o padding interno dos botões */
        font-size: 0.8rem; /* Reduz o tamanho da fonte dos botões */
        width: 80%; /* Faz os botões ocuparem uma largura maior da tela */
        max-width: 300px; /* Define uma largura máxima para não ficarem muito grandes em telas maiores */
    }
}
